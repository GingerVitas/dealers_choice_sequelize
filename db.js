const Sequelize = require('sequelize');
const sequelize = new Sequelize(process.env.DATABASE_URL || 'postgres://localhost/nfc_north_roster_db');
const STRING = Sequelize.STRING;

const Team = sequelize.define('team', {
    name: {
        type: STRING,
        allowNull: false,
        validate: {
            notEmpty: true,
        },
    },
});

const Player = sequelize.define('player', {
    name: {
        type: STRING,
        allowNull: false,
        validate: {
            notEmpty: true
        },
    },
});

const Position = sequelize.define('position', {
    name: {
        type: STRING,
        allowNull: false,
        validate: {
            notEmpty: true
        },
    },
});

Team.hasMany(Player);
Player.belongsTo(Team);
Player.belongsTo(Position);
Position.hasMany(Player);


const syncAndSeed = async() => {
    try{
        await sequelize.sync({force: true});
        const [packers, bears, vikings, lions] = await Promise.all([
            Team.create({name:'Green Bay Packers'}),
            Team.create({name:'Chicago Bears'}),
            Team.create({name:'Minnesota Vikings'}),
            Team.create({name:'Detroit Lions'})
        ]);
        const [qb, rb, wr, te, ol, dl, lb, db, k, p] = await Promise.all([
            Position.create({name: 'Quarterback'}),
            Position.create({name: 'Running Back'}),
            Position.create({name: 'Wide Receiver'}),
            Position.create({name: 'Tight End'}),
            Position.create({name: 'Offensive Lineman'}),
            Position.create({name: 'Defensive Lineman'}),
            Position.create({name: 'Linebacker'}),
            Position.create({name: 'Defensive Back'}),
            Position.create({name: 'Kicker'}),
            Position.create({name: 'Punter'})
        ]);
        await Player.bulkCreate([
            {name: 'Aaron Rodgers', positionId: qb.id, teamId: packers.id},
            {name: 'Jordan Love', positionId: qb.id, teamId: packers.id},
            {name: 'Kurt Benkert', positionId: qb.id, teamId: packers.id},
            {name: 'Aaron Jones', positionId: rb.id, teamId: packers.id},
            {name: 'A.J. Dillon', positionId: rb.id, teamId: packers.id},
            {name: 'Kylin Hill', positionId: rb.id, teamId: packers.id},
            {name: 'Patrick Taylor', positionId: rb.id, teamId: packers.id},
            {name: 'Davante Adams', positionId: wr.id, teamId: packers.id},
            {name: 'Allen Lazard', positionId: wr.id, teamId: packers.id},
            {name: 'Marquez Valdez-Scantling', positionId: wr.id, teamId: packers.id},
            {name: 'Randall Cobb', positionId: wr.id, teamId: packers.id},
            {name: 'Equanimeous St. Brown', positionId: wr.id, teamId: packers.id},
            {name: 'Malik Taylor', positionId: wr.id, teamId: packers.id},
            {name: 'Josh Malone', positionId: wr.id, teamId: packers.id},
            {name: 'Amari Rodgers', positionId: wr.id, teamId: packers.id},
            {name: 'Juwann Winfree', positionId: wr.id, teamId: packers.id},
            {name: 'Dominique Dafney', positionId: te.id, teamId: packers.id},
            {name: 'Tyler Davis', positionId: te.id, teamId: packers.id},
            {name: 'Josiah Deguara', positionId: te.id, teamId: packers.id},
            {name: 'Marcedes Lewis', positionId: te.id, teamId: packers.id},
            {name: 'Alize Mack', positionId: te.id, teamId: packers.id},
            {name: 'Robert Tonyan', positionId: te.id, teamId: packers.id},
            {name: 'David Bakhtiari', positionId: ol.id, teamId: packers.id},
            {name: 'Elgton Jenkins', positionId: ol.id, teamId: packers.id},
            {name: 'Josh Myers', positionId: ol.id, teamId: packers.id},
            {name: 'Lucas Patrick', positionId: ol.id, teamId: packers.id},
            {name: 'Billy Turner', positionId: ol.id, teamId: packers.id},
            {name: 'Jon Runyan', positionId: ol.id, teamId: packers.id},
            {name: 'Royce Newman', positionId: ol.id, teamId: packers.id},
            {name: 'Dennis Kelly', positionId: ol.id, teamId: packers.id},
            {name: 'Yosh Nijman', positionId: ol.id, teamId: packers.id},
            {name: 'Cole Van Lanen', positionId: ol.id, teamId: packers.id},
            {name: 'Dean Lowry', positionId: dl.id, teamId: packers.id},
            {name: 'Kenny Clark', positionId: dl.id, teamId: packers.id},
            {name: 'Tyler Lancaster', positionId: dl.id, teamId: packers.id},
            {name: 'T.J. Slaton', positionId: dl.id, teamId: packers.id},
            {name: 'Preston Smith', positionId: lb.id, teamId: packers.id},
            {name: 'De\'Vondre Campbell', positionId: lb.id, teamId: packers.id},
            {name: 'Krys Barnes', positionId: lb.id, teamId: packers.id},
            {name: 'Rashan Gary', positionId: lb.id, teamId: packers.id},
            {name: 'Whitney Mercilus', positionId: lb.id, teamId: packers.id},
            {name: 'Za\'Darius Smith', positionId: lb.id, teamId: packers.id},
            {name: 'Eric Stokes', positionId: db.id, teamId: packers.id},
            {name: 'Adriam Amos', positionId: db.id, teamId: packers.id},
            {name: 'Darnell Savage', positionId: db.id, teamId: packers.id},
            {name: 'Jaire Alexander', positionId: db.id, teamId: packers.id},
            {name: 'Rasul Douglas', positionId: db.id, teamId: packers.id},
            {name: 'Kevin King', positionId: db.id, teamId: packers.id},
            {name: 'Chandon Sullivan', positionId: db.id, teamId: packers.id},
            {name: 'Mason Crosby', positionId: k.id, teamId: packers.id},
            {name: 'Corey Bojorquez', positionId: p.id, teamId: packers.id},
            {name: 'Justin Fields', positionId: qb.id, teamId: bears.id},
            {name: 'Andy Dalton', positionId: qb.id, teamId: bears.id},
            {name: 'Nick Foles', positionId: qb.id, teamId: bears.id},
            {name: 'David Montgomery', positionId: rb.id, teamId: bears.id},
            {name: 'Khalil Herbert', positionId: wr.id, teamId: bears.id},
            {name: 'Damien Williams', positionId: wr.id, teamId: bears.id},
            {name: 'Darnell Mooney', positionId: wr.id, teamId: bears.id},
            {name: 'Allen Robinson II', positionId: wr.id, teamId: bears.id},
            {name: 'Damiere Byrd', positionId: wr.id, teamId: bears.id},
            {name: 'Marquise Goodwin', positionId: wr.id, teamId: bears.id},
            {name: 'Jakeem Grant Sr.', positionId: wr.id, teamId: bears.id},
            {name: 'Dazz Newsome', positionId: wr.id, teamId: bears.id},
            {name: 'Cole Kmet', positionId: te.id, teamId: bears.id},
            {name: 'Jimmy Graham', positionId: te.id, teamId: bears.id},
            {name: 'Jesse James', positionId: te.id, teamId: bears.id},
            {name: 'Jason Peters', positionId: ol.id, teamId: bears.id},
            {name: 'Cody Whitehair', positionId: ol.id, teamId: bears.id},
            {name: 'Sam Mustipher', positionId: ol.id, teamId: bears.id},
            {name: 'James Daniels', positionId: ol.id, teamId: bears.id},
            {name: 'Larry Borom', positionId: ol.id, teamId: bears.id},
            {name: 'Teven Jenkins', positionId: ol.id, teamId: bears.id},
            {name: 'Alex Bars', positionId: ol.id, teamId: bears.id},
            {name: 'Germain Ifedi', positionId: ol.id, teamId: bears.id},
            {name: 'Elijah Wilkinson', positionId: ol.id, teamId: bears.id},
            {name: 'Dieter Eiselen', positionId: ol.id, teamId: bears.id},
            {name: 'Khalil Mack', positionId: dl.id, teamId: bears.id},
            {name: 'Eddie Goldman', positionId: dl.id, teamId: bears.id},
            {name: 'Akiem Hicks', positionId: dl.id, teamId: bears.id},
            {name: 'Bilal Nichols', positionId: dl.id, teamId: bears.id},
            {name: 'Angelo Blackson', positionId: dl.id, teamId: bears.id},
            {name: 'Jeremiah Attaochu', positionId: dl.id, teamId: bears.id},
            {name: 'Robert Quinn', positionId: dl.id, teamId: bears.id},
            {name: 'Trevis Gipson', positionId: dl.id, teamId: bears.id},
            {name: 'Danny Trevathan', positionId: lb.id, teamId: bears.id},
            {name: 'Roquan Smith', positionId: lb.id, teamId: bears.id},
            {name: 'Christian Jones', positionId: lb.id, teamId: bears.id},
            {name: 'Jaylon Johnson', positionId: db.id, teamId: bears.id},
            {name: 'Alec Ogletree', positionId: lb.id, teamId: bears.id},
            {name: 'Caleb Johnson', positionId: lb.id, teamId: bears.id},
            {name: 'Bruce Irvin', positionId: lb.id, teamId: bears.id},
            {name: 'Xavier Crawford', positionId: db.id, teamId: bears.id},
            {name: 'Tashaun Gipson Sr.', positionId: db.id, teamId: bears.id},
            {name: 'Eddie Jackson', positionId: db.id, teamId: bears.id},
            {name: 'Duke Shelley', positionId: db.id, teamId: bears.id},
            {name: 'DeAndre Houston-Carson', positionId: db.id, teamId: bears.id},
            {name: 'Deon Bush', positionId: db.id, teamId: bears.id},
            {name: 'Artie Burns', positionId: db.id, teamId: bears.id},
            {name: 'Thomas Graham Jr.', positionId: db.id, teamId: bears.id},
            {name: 'Teez Tabor', positionId: db.id, teamId: bears.id},
            {name: 'Marqui Christian', positionId: db.id, teamId: bears.id},
            {name: 'Kindle Vildor', positionId: db.id, teamId: bears.id},
            {name: 'Cairo Santos', positionId: k.id, teamId: bears.id},
            {name: 'Pat O\'Donnell', positionId: p.id, teamId: bears.id},
            {name: 'Kirk Cousins', positionId: qb.id, teamId: vikings.id},
            {name: 'Sean Mannion', positionId: qb.id, teamId: vikings.id},
            {name: 'Kellen Mond', positionId: qb.id, teamId: vikings.id},
            {name: 'Dalvin Cook', positionId: rb.id, teamId: vikings.id},
            {name: 'Alexander Mattison', positionId: rb.id, teamId: vikings.id},
            {name: 'Kene Nwangwu', positionId: rb.id, teamId: vikings.id},
            {name: 'Wayne Gallman', positionId: rb.id, teamId: vikings.id},
            {name: 'Justin Jefferson', positionId: wr.id, teamId: vikings.id},
            {name: 'Adam Thielen', positionId: wr.id, teamId: vikings.id},
            {name: 'K.J. Osborn', positionId: wr.id, teamId: vikings.id},
            {name: 'Dede Westbrook', positionId: wr.id, teamId: vikings.id},
            {name: 'Ihmir Smith-Marsette', positionId: wr.id, teamId: vikings.id},
            {name: 'Chad Beebe', positionId: wr.id, teamId: vikings.id},
            {name: 'Bisi Johnson', positionId: wr.id, teamId: vikings.id},
            {name: 'Dan Chisena', positionId: wr.id, teamId: vikings.id},
            {name: 'Irv Smith Jr.', positionId: te.id, teamId: vikings.id},
            {name: 'Tyler Conklin', positionId: te.id, teamId: vikings.id},
            {name: 'Chris Herndon', positionId: te.id, teamId: vikings.id},
            {name: 'Luke Stocker', positionId: te.id, teamId: vikings.id},
            {name: 'C.J. Ham', positionId: rb.id, teamId: vikings.id},
            {name: 'Christian Darrisaw', positionId: ol.id, teamId: vikings.id},
            {name: 'Ezra Cleveland', positionId: ol.id, teamId: vikings.id},
            {name: 'Garrett Bradbury', positionId: ol.id, teamId: vikings.id},
            {name: 'Olisaemeka Udoh', positionId: ol.id, teamId: vikings.id},
            {name: 'Brian O\'Neill', positionId: ol.id, teamId: vikings.id},
            {name: 'Dakota Dozier', positionId: ol.id, teamId: vikings.id},
            {name: 'Mason Cole', positionId: ol.id, teamId: vikings.id},
            {name: 'Blake Brandel', positionId: ol.id, teamId: vikings.id},
            {name: 'Rashod Hill', positionId: ol.id, teamId: vikings.id},
            {name: 'Kyle Hinton', positionId: ol.id, teamId: vikings.id},
            {name: 'Timon Parris', positionId: ol.id, teamId: vikings.id},
            {name: 'Danielle Hunter', positionId: dl.id, teamId: vikings.id},
            {name: 'Michael Pierce', positionId: dl.id, teamId: vikings.id},
            {name: 'Dalvin Domlinson', positionId: dl.id, teamId: vikings.id},
            {name: 'D.J. Wonnum', positionId: dl.id, teamId: vikings.id},
            {name: 'Everson Griffen', positionId: dl.id, teamId: vikings.id},
            {name: 'Armon Watts', positionId: dl.id, teamId: vikings.id},
            {name: 'Sheldon Richardson', positionId: dl.id, teamId: vikings.id},
            {name: 'Nick Vigil', positionId: lb.id, teamId: vikings.id},
            {name: 'Eric Kendricks', positionId: lb.id, teamId: vikings.id},
            {name: 'Anthony Barr', positionId: lb.id, teamId: vikings.id},
            {name: 'Chazz Surratt', positionId: lb.id, teamId: vikings.id},
            {name: 'Troy Dye', positionId: lb.id, teamId: vikings.id},
            {name: 'Blake Lynch', positionId: lb.id, teamId: vikings.id},
            {name: 'Patrick Peterson', positionId: db.id, teamId: vikings.id},
            {name: 'Harrison Smith', positionId: db.id, teamId: vikings.id},
            {name: 'Xavier Woods', positionId: db.id, teamId: vikings.id},
            {name: 'Cameron Dantzler', positionId: db.id, teamId: vikings.id},
            {name: 'Harrison Hand', positionId: db.id, teamId: vikings.id},
            {name: 'Camryn Bynum', positionId: db.id, teamId: vikings.id},
            {name: 'Josh Metellus', positionId: db.id, teamId: vikings.id},
            {name: 'Greg Joseph', positionId: k.id, teamId: vikings.id},
            {name: 'Jordan Berry', positionId: p.id, teamId: vikings.id},
            {name: 'Jared Goff', positionId: qb.id, teamId: lions.id},
            {name: 'Tim Boyle', positionId: qb.id, teamId: lions.id},
            {name: 'David Blough', positionId: qb.id, teamId: lions.id},
            {name: 'D\'Andre Smith', positionId: rb.id, teamId: lions.id},
            {name: 'Jamaal Williams', positionId: rb.id, teamId: lions.id},
            {name: 'Craig Reynolds', positionId: rb.id, teamId: lions.id},
            {name: 'Godwin Igwebuike', positionId: rb.id, teamId: lions.id},
            {name: 'Amon-Ra St. Brown', positionId: wr.id, teamId: lions.id},
            {name: 'Quintez Cephus', positionId: wr.id, teamId: lions.id},
            {name: 'Josh Reynolds', positionId: wr.id, teamId: lions.id},
            {name: 'Kalif Raymond', positionId: wr.id, teamId: lions.id},
            {name: 'KhaDarel Hodge', positionId: wr.id, teamId: lions.id},
            {name: 'Tom Kennedy', positionId: wr.id, teamId: lions.id},
            {name: 'Trinity Benson', positionId: wr.id, teamId: lions.id},
            {name: 'Javon McKinley', positionId: wr.id, teamId: lions.id},
            {name: 'T.J. Hockenson', positionId: te.id, teamId: lions.id},
            {name: 'Brock Wright', positionId: te.id, teamId: lions.id},
            {name: 'Hunter Bryant', positionId: te.id, teamId: lions.id},
            {name: 'Jason Cabinda', positionId: rb.id, teamId: lions.id},
            {name: 'Taylor Decker', positionId: ol.id, teamId: lions.id},
            {name: 'Jonah Jackson', positionId: ol.id, teamId: lions.id},
            {name: 'Frank Ragnow', positionId: ol.id, teamId: lions.id},
            {name: 'Halapoulivaati Vaitai', positionId: ol.id, teamId: lions.id},
            {name: 'Penei Sewell', positionId: ol.id, teamId: lions.id},
            {name: 'Tommy Kraemer', positionId: ol.id, teamId: lions.id},
            {name: 'Evan Brown', positionId: ol.id, teamId: lions.id},
            {name: 'Tyrell Crosby', positionId: ol.id, teamId: lions.id},
            {name: 'Logan Stenberg', positionId: ol.id, teamId: lions.id},
            {name: 'Michael Brockers', positionId: dl.id, teamId: lions.id},
            {name: 'Alim McNeill', positionId: dl.id, teamId: lions.id},
            {name: 'Nick Williams', positionId: dl.id, teamId: lions.id},
            {name: 'Levi Onwuzurike', positionId: dl.id, teamId: lions.id},
            {name: 'John Penisini', positionId: dl.id, teamId: lions.id},
            {name: 'Joel Heath', positionId: dl.id, teamId: lions.id},
            {name: 'Trey Flowers', positionId: lb.id, teamId: lions.id},
            {name: 'Alex Anzalone', positionId: lb.id, teamId: lions.id},
            {name: 'Jalen Reeves-Maybin', positionId: lb.id, teamId: lions.id},
            {name: 'Romeo Okwara', positionId: lb.id, teamId: lions.id},
            {name: 'Julian Okwara', positionId: lb.id, teamId: lions.id},
            {name: 'Derrick Barnes', positionId: lb.id, teamId: lions.id},
            {name: 'Shaun Dion Hamilton', positionId: lb.id, teamId: lions.id},
            {name: 'Charles Harris', positionId: lb.id, teamId: lions.id},
            {name: 'Amani Oruwariye', positionId: db.id, teamId: lions.id},
            {name: 'Will Harris', positionId: db.id, teamId: lions.id},
            {name: 'Tracy Walker III', positionId: db.id, teamId: lions.id},
            {name: 'Jeff Okudah', positionId: db.id, teamId: lions.id},
            {name: 'Jerry Jacobs', positionId: db.id, teamId: lions.id},
            {name: 'Dean Marlowe', positionId: db.id, teamId: lions.id},
            {name: 'C.J. Moore', positionId: db.id, teamId: lions.id},
            {name: 'AJ Parker', positionId: db.id, teamId: lions.id},
            {name: 'Jalen Elliott', positionId: db.id, teamId: lions.id},
            {name: 'Austin Seibert', positionId: k.id, teamId: lions.id},
            {name: 'Jack Fox', positionId: p.id, teamId: lions.id}
        ]);
    }
    catch(ex) {
        console.log(ex)
    }
};

module.exports = { sequelize, syncAndSeed, Models: {Team, Player, Position} };